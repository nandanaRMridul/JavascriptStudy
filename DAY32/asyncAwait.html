<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <title>Async Await</title>
</head>
<body>
  <h1 class="text-center">User Details</h1>
<div class="container mt-3 d-flex align-items-center justify-content-center">
  <table class="w-100 table-padded table-bordered">
    <thead class="bg-dark bg-opacity-50">
      <tr>
        <th>Name</th>
        <th>Image</th>
        <th>Address</th>
        <th>Company</th>
        <th>Role</th>
      </tr>
    </thead>

    <tbody id="res" class="bg-dark bg-opacity-25">
      
    </tbody>

  </table>
</div> 
</body>

<script>
  const getData = async() => {

    try{
      let apiResponse = await fetch('https://dummyjson.com/users')
      let result = await apiResponse.json()
      console.log(result);

      let { users } = result;

      users.forEach((eachUser)=>{
        res.innerHTML += `<tr >
        <td>${eachUser.firstName} ${eachUser.lastName}</td>
        <td> <img src= ${eachUser.image}> </td>
        <td> Address: ${eachUser.address.address}
          City: ${eachUser.address.city}
          State: ${eachUser.address.state}
          Country: ${eachUser.address.country}
          </td>
        <td>${eachUser.company.department}</td>
        <td>${eachUser.company.title}</td>
      </tr>`
      })

      console.log(users);
    }
    catch(err){
console.log(err);
    }

  }
  getData()
</script>

</html>